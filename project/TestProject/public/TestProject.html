<html>
    <head>
        <meta charset = "utf-8">
        <title>Проект для тестирования</title>
        <meta name="viewport" content="width = device-width, initial-scale=1">
        <link rel="stylesheet" href="TestProject.css">
        <script src="TempFile_4008391677.js"> </script>
        <script src="Script.js"> </script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <body> 
        <div class="Frame" ProjectName="4008391677">
            <div class="DivImgCloseBot" ><img src="close.png" width="24px" class="ImgCloseBot"></div>
            <div class="LabelChatBot">
                Чат
               </div> 
            <div class="Form">  
                <div class="ChatForm" id="ChatForm">
                </div>
                <div class="SendMessageBlock">
                        <textarea class="InputMessage" id="InputMessage"></textarea>
                        <input type="button" class="Btn" value="Отправить" id="SendMessage">
                </div >
                <br />
            </div>
        </div>
        <script type="text/javascript">
            function LowerDown(){
                document.getElementById("ChatForm").scrollTop = document.getElementById("ChatForm").scrollHeight;
            }
            $('#SendMessage').click(function() {//отправка на сервер введеного текста пользователяч
                let value = document.getElementById("InputMessage").value;
                if(value != ""){
                    let data = { message: value};
                    let MessageUser = document.createElement('div');
                    let OutgoingMessage = document.createElement('div');//содержимое блока сообщения
                    let InputMessage = document.getElementById('InputMessage');//Поле ввода сообщения на форме
                    let ChatForm = document.getElementById('ChatForm'); //блок с чатом
                    let SendMessage = document.getElementById('SendMessage');
                    MessageUser.className = 'MessageUser';
                    OutgoingMessage.className = 'OutgoingMessage';
                    ChatForm.append(MessageUser);
                    MessageUser.append(OutgoingMessage);
                    SendMessageOnServer(InputMessage.value,"User");
                    OutgoingMessage.innerHTML =  InputMessage.value ;//записать введеный пользователем текст в блок
                    if(this.hasAttribute('onclick') == false){
                        InputMessage.value ="";
                        //this.onclick(this.getAttribute('onclick'));
                    }
                    LowerDown();
                   // $.post('http://localhost:3000/test', data, function(res) {});
                    
                }
            });
            $('.ButtonOnChat').click(function() {//отправка на сервер значение нажатой пользователем кнопки
                let value = this.value;
                SendMessageOnServer(value,"Btn");
               // $.post('http://localhost:3000/test', data, function(res) {});
            });
            function SendUserMessage(Message) {
                let data = {message: Message}
               // $.post('http://localhost:3000/test', data, function(res) {});
            }
            function SendUserClickOnButton(Message) {
                let data = {message: "Нажатие на кнопку с значением:\"" + Message + "\""};
               // $.post('http://localhost:3000/test', data, function(res) {});
            }
            function SendBotMessage(Message) {//отправка на сервер ответа бота
                SendMessageOnServer(Message,"Bot");
               
               // $.post('http://localhost:3000/test', data, function(res) {});
        }
    </script>
    </body>
</html>